define([],function(){function Guid(e){function r(e){for(var r=32;r--;)e.push("0")}function t(e,r){switch(r){case"N":return e.toString().replace(/,/g,"");case"D":var n=e.slice(0,8)+"-"+e.slice(8,12)+"-"+e.slice(12,16)+"-"+e.slice(16,20)+"-"+e.slice(20,32);return n=n.replace(/,/g,"");case"B":var n=t(e,"D");return n="{"+n+"}";case"P":var n=t(e,"D");return n="("+n+")";default:return new Guid}}var n=new Array;"string"==typeof e?function(e,t){if(t=t.replace(/\{|\(|\)|\}|-/g,""),t=t.toLowerCase(),32!=t.length||-1!=t.search(/[^0-9,a-f]/i))r(e);else for(var n=0;n<t.length;n++)e.push(t[n])}(n,e):r(n),this.Equals=function(e){return!(!e||!e.IsGuid)&&this.ToString()==e.ToString()},this.IsGuid=function(){},this.ToString=function(e){return"string"==typeof e&&("N"==e||"D"==e||"B"==e||"P"==e)?t(n,e):t(n,"D")}}function isWeixin(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)}var tool={},search={};return search.replace=function(destiny,par,par_value){var pattern=par+"=([^&]*)",replaceText=par+"="+par_value;if(destiny.match(pattern)){var tmp="/\\"+par+"=[^&]*/";return tmp=destiny.replace(eval(tmp),replaceText)}return destiny.match("[?]")?destiny+"&"+replaceText:destiny+"?"+replaceText},search.remove=function(e){var r=window.location.href;return r=r.replace(/(?![?&])(key)=\w+/gi,"")},search.get=function(e){var r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(r);return null!=t?unescape(t[2]):null},tool={Guid:Guid,isWeixin:isWeixin,search:search}});